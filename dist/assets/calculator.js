function he(){const C=document.querySelector("input[name='Gesamtwert']"),y=document.querySelector("[data-name='price']"),h=document.querySelector("[data-name='personal']"),q=document.querySelector("[data-name='discount-section']"),v=document.querySelector("[data-name='price-section']"),ee=document.querySelectorAll("input[name='Versicherung']"),g=document.querySelectorAll("input[name='Zahlung']"),u=document.querySelector("[data-name='coverage-section']"),F=document.querySelector("[data-name='sinfonima-wording']"),P=document.querySelector("[data-name='iamsound-wording']"),S=document.querySelector("[data-name='discount-code']"),E=document.querySelector("[data-name='discount-price']"),k=document.querySelector("[data-name='list-disclaimer']"),b=document.querySelector("[data-name='next-disclaimer']"),te=document.querySelector("[data-name='secure-section']"),ne=document.querySelectorAll("[name='Proberaum']"),le=document.querySelectorAll("[name='Bewohnt']"),oe=document.querySelectorAll("input[name='flow']"),B=document.querySelector("[data-success='request']"),U=document.querySelector("[data-success='online']"),w=document.querySelector("[data-success='incomplete']"),I=document.querySelector("form");let A,n,t,a,i,x,z;u.style.display="none",q.style.display="none",w.style.display="none",S.addEventListener("keyup",s),C.addEventListener("keyup",s),g.forEach(e=>e.addEventListener("input",s)),ee.forEach(e=>e.addEventListener("input",s)),u.addEventListener("click",s),te.addEventListener("click",s),ne.forEach(e=>e.addEventListener("input",s)),le.forEach(e=>e.addEventListener("click",s)),oe.forEach(e=>e.addEventListener("input",s));function s(){var R,j,G,W,Z,$,K,Q,X,Y,_;A=(R=document.querySelector("input[name='Zahlung']:checked"))==null?void 0:R.value,n=(j=document.querySelector("input[name='Versicherung']:checked"))==null?void 0:j.value;let e=C.value.replace(/\.(?:\d{1,2})$/,"");t=parseInt(e.replace(".","")),x=(G=document.querySelector("input[name='Deckung']:checked"))==null?void 0:G.value,z=S==null?void 0:S.value;const l=["jntpvoe21","jntpvoewvu3135"];n==="IM SOUND"?(F.style.display="none",P.style.display="inline",q.style.display="block"):(F.style.display="inline",P.style.display="none",q.style.display="none",d("request")),t&&n==="IM SOUND"&&(v.style.display="block"),(!t||t===0||!A||!n||n==="SINFONIMA")&&(v.style.display="none",h.style.display="none",u.style.display="none"),t<=3e3&n==="SINFONIMA"?(a=53.55,h.style.display="none",u.style.display="none"):t<=4e4&&n==="IM SOUND"?(a=t*.01785,t>2e4?(u.style.display="block",x==="Stationaer"&&(a=t*.00714)):u.style.display="none",a=Math.max(a,71.4),h.style.display="none"):(t>4e4&&n==="IM SOUND"||t>3e3&&n==="SINFONIMA")&&(v.style.display="none",u.style.display="none",h.style.display="block");function m(c){let o="";for(let f=0;f<c.length;f++){let fe=c.charCodeAt(f);o+=String.fromCharCode(fe+1)}return o}let T=m(z.toLowerCase());function re(c){let o=!1;return l.forEach(f=>{f===c&&(o=!0)}),o}re(T)&&n==="IM SOUND"?(T===l[1]?(i=t*.01428,i=Math.max(i,71.4)):(i=a*.9,i=V(i)),E.innerHTML=p(i)+" €",E.style.display="block",y.innerHTML=p(a)+" €",y.style.textDecoration="line-through",y.style.opacity="0.5"):(g.forEach(c=>c.disabled=!1),y.style.textDecoration="none",y.style.opacity="1",E.style.display="none",i=null);function V(c){return A==="Monatlich"&&!g[0].disabled?c/12*1.05:c}a=V(a),a=Math.round(a*100)/100,y.innerHTML=p(a)+" €";const N=document.querySelectorAll("[data-flow='request']"),D=document.querySelectorAll("[data-flow='online']"),L=document.querySelectorAll("[data-flow='online-partial']");let r=(W=document.querySelector("[name='flow']:checked"))==null?void 0:W.value,O=document.querySelector("input[name='Beitrag']");t<=2e4&&n==="IM SOUND"?(console.log("Flow: (potentially) online",r,t,n),r==="online"?(console.log("Flow: fully online",r,t,n),L.forEach(o=>o.style.display="block"),D.forEach(o=>o.style.display="block"),N.forEach(o=>o.style.display="none"),d("online")):r==="online-partial"&&(console.log("Flow: online partial",r,t,n),D.forEach(o=>o.style.display="none"),N.forEach(o=>o.style.display="block"),d("request")),L.forEach(o=>o.style.display="block"),ce(O,i||a),t>1e4&&r==="online"?(k.style.display="block",b.style.display="none"):(k.style.display="none",b.style.display="block")):(console.log("Flow: Request",r,t,n),O&&O.remove(),N.forEach(c=>c.style.display="block"),L.forEach(c=>c.style.display="none"),D.forEach(c=>c.style.display="none"),k.style.display="none",b.style.display="none",d("request"));let ue=(Z=document.querySelector("[name='Schloss20mm']:checked"))==null?void 0:Z.value,de=($=document.querySelector("[name='Schliesszylinder']:checked"))==null?void 0:$.value,ye=(K=document.querySelector("[name='Sicherheitsbeschlaege']:checked"))==null?void 0:K.value,me=(Q=document.querySelector("[name='Pilzkopfverriegelung']:checked"))==null?void 0:Q.value,pe=(X=document.querySelector("[name='Fenster']:checked"))==null?void 0:X.value,H=(Y=document.querySelector("[name='Proberaum']:checked"))==null?void 0:Y.value,J=(_=document.querySelector("[name='Bewohnt']:checked"))==null?void 0:_.value;n==="IM SOUND"&&H==="Nein"&&r==="online"||n==="IM SOUND"&&J==="Ja"&&r==="online"?(M("sicher"),d("online")):H==="Ja"&&J==="Nein"&&r==="online"&&(ue==="Nein"||de==="Nein"||ye==="Nein"||pe==="Ja"&&me==="Nein"?(M("unsicher"),d("incomplete")):(M("sicher"),d("online")))}function M(e){let l=document.querySelector("input[name='Sicherheit']");l||(l=document.createElement("input"),l.setAttribute("type","hidden"),l.setAttribute("name","Sicherheit"),I.prepend(l)),l.value=e}function ce(e,l){if(!e){const m=document.createElement("input");m.setAttribute("type","hidden"),m.setAttribute("name","Beitrag"),m.value=p(l)+" €",I.prepend(m)}e=document.querySelector("input[name='Beitrag']"),e.value=p(l)+" €"}function p(e){return e.toLocaleString("de-DE",{minimumFractionDigits:2,maximumFractionDigits:2})}let ae=document.querySelectorAll(".w-radio-input");function d(e){e==="request"?B.style.display="block":B.style.display="none",e==="online"?U.style.display="block":U.style.display="none",e==="incomplete"?w.style.display="block":w.style.display="none"}function ie(){let e=navigator.userAgent?navigator.userAgent:""+navigator.oscpu?navigator.oscpu:"";if(!e)return;const l=document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name","meta"),l.setAttribute("value",e),I.prepend(l)}ie(),s();function se(){ae.forEach(e=>e.nextSibling.checked==!0?e.classList.add("w--redirected-checked"):e.classList.remove("w--redirected-checked"))}se()}document.addEventListener("DOMContentLoaded",he);
